import{q as a,s as e,r as l,c as t,J as s,o as u,d,w as o,f as n,j as r,t as i,C as c,v as m,B as f,O as p,k as w,Y as h,_,N as v,h as g,i as b,F as y,g as C,P as k,x as V}from"./index-D0SrQWKU.js";import{_ as x}from"./uv-tabs.W6nHnFOW.js";import{_ as W}from"./uv-button.Brqk6hEV.js";import{u as j}from"./user.Z8kPcccZ.js";import"./uv-loading-icon.Cg1U2PJ0.js";const $=_(a({__name:"ConfirmWithdraw",props:{amount:{}},setup(a,{expose:_}){const v=a,g=e(),b=e("$"),y=e(""),C=()=>{m.service.wallet$withdraw({amount:v.amount,password:y.value}).then((a=>{a.success(((a,e)=>{p({title:m.t("other.7"),icon:"none"})}))}))};return m.service.currency$current({}).then((a=>{a.success((a=>{b.value=(null==a?void 0:a.symbol)||"$"}))})),_({modalRef:g}),(a,e)=>{const p=w,_=h,k=l(t("uv-button"),W),V=s("bt-popup");return u(),d(V,{ref_key:"modalRef",ref:g},{default:o((()=>[n(p,{class:"ConfirmWithdraw"},{default:o((()=>[n(p,{class:"title"},{default:o((()=>[r(i(c(m).t("dialog.ConfirmWithdraw.1")),1)])),_:1}),n(p,{class:"amount"},{default:o((()=>[f("p",null,i(b.value),1),f("p",null,i(v.amount),1)])),_:1}),n(p,{class:"form-item"},{default:o((()=>[n(p,{class:"label"},{default:o((()=>[r(i(c(m).t("dialog.ConfirmWithdraw.2")),1)])),_:1}),n(_,{class:"input",placeholder:c(m).t("dialog.ConfirmWithdraw.2"),modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=a=>y.value=a)},null,8,["placeholder","modelValue"])])),_:1}),n(p,{class:"bind-btn-wrap"},{default:o((()=>[n(k,{text:c(m).t("dialog.ConfirmWithdraw.4"),color:"#357aff",onClick:C},null,8,["text"])])),_:1}),n(p,{class:"tips"},{default:o((()=>[n(p,null,{default:o((()=>[r(i(c(m).t("dialog.ConfirmWithdraw.5")),1)])),_:1})])),_:1})])),_:1})])),_:1},512)}}}),[["__scopeId","data-v-6546ac2e"]]),F=_(a({__name:"withdraw",setup(a){const f=j(),_=e({lineColor:"#FF2442",activeStyle:{color:"#FF2442"},inactiveStyle:{color:"#4B5563"},list:[{name:m.t("page.withdraw.1")},{name:m.t("page.withdraw.2")}],lineWidth:"100",lineHeight:"2",current:0,scrollable:!1}),F=e(0),I=e([]),U=e(""),B=e(""),R=e(""),T=e(),S=e({status:null}),q=({index:a})=>{_.value.current=a},H=()=>{if(2==S.value.status)return m.showToast(m.t("page.withdraw.15"));m.dialogFun($,{amount:T.value}).then((a=>{}))},J=()=>{m.service.auth$bindBankCard({bank_name:U.value,card_holder:B.value,card_number:R.value,card_type:"借记卡"}).then((a=>{a.success(((a,e)=>{p({title:m.t("other.6"),icon:"success"})}))}))};return m.service.amountConfig$list({type:"withdraw"}).then((a=>{a.success((a=>{I.value=a,T.value=a[0].amount}))})),m.service.wallet$info({}).then((a=>{a.success((a=>{S.value=a}))})),(a,e)=>{const p=l(t("uv-tabs"),x),j=w,$=h,S=l(t("uv-button"),W),L=k,M=s("bt-page");return u(),d(M,{backIcon:"",navText:c(m).t("page.withdraw.1"),padding:0},{default:o((()=>[n(j,{class:"withdraw container"},{default:o((()=>[n(j,{class:"head"},{default:o((()=>[n(p,v(_.value,{onClick:q}),null,16)])),_:1}),0==_.value.current?(u(),d(L,{key:0,"scroll-y":"",class:"body body0 animate__animated animate__fadeInLeft"},{default:o((()=>[n(j,{class:"amount-grid"},{default:o((()=>[(u(!0),g(y,null,b(I.value,((a,e)=>(u(),d(j,{key:e,class:V(["amount-card",{selected:F.value===e}]),onClick:l=>((a,e)=>{F.value=e,T.value=a.amount})(a,e)},{default:o((()=>[n(j,{class:"amount"},{default:o((()=>[r(i(a.amount),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),n($,{class:"customise-input",placeholder:c(m).t("page.withdraw.1"),modelValue:T.value,"onUpdate:modelValue":e[0]||(e[0]=a=>T.value=a),modelModifiers:{number:!0},type:"number"},null,8,["placeholder","modelValue"]),n(j,{class:"withdraw-btn"},{default:o((()=>[n(S,{text:c(m).t("page.withdraw.1"),color:"#357aff",onClick:H},null,8,["text"])])),_:1}),n(j,{class:"credit"},{default:o((()=>[r(i(c(m).t("page.withdraw.3"))+"："+i(c(f).user.credit_score),1)])),_:1})])),_:1})):C("",!0),1==_.value.current?(u(),d(L,{key:1,"scroll-y":"",class:"body body1 animate__animated animate__fadeInRight"},{default:o((()=>[n(j,{class:"form-group"},{default:o((()=>[n(j,{class:"form-item"},{default:o((()=>[n(j,{class:"label"},{default:o((()=>[r(i(c(m).t("page.withdraw.4")),1)])),_:1}),n($,{class:"input",placeholder:c(m).t("page.withdraw.5"),modelValue:U.value,"onUpdate:modelValue":e[1]||(e[1]=a=>U.value=a)},null,8,["placeholder","modelValue"])])),_:1}),n(j,{class:"form-item"},{default:o((()=>[n(j,{class:"label"},{default:o((()=>[r(i(c(m).t("page.withdraw.6")),1)])),_:1}),n($,{class:"input",placeholder:c(m).t("page.withdraw.7"),modelValue:B.value,"onUpdate:modelValue":e[2]||(e[2]=a=>B.value=a)},null,8,["placeholder","modelValue"])])),_:1}),n(j,{class:"form-item"},{default:o((()=>[n(j,{class:"label"},{default:o((()=>[r(i(c(m).t("page.withdraw.8")),1)])),_:1}),n($,{class:"input",placeholder:c(m).t("page.withdraw.9"),modelValue:R.value,"onUpdate:modelValue":e[3]||(e[3]=a=>R.value=a)},null,8,["placeholder","modelValue"])])),_:1})])),_:1}),n(j,{class:"bind-btn-wrap"},{default:o((()=>[n(S,{onClick:J,text:c(m).t("page.withdraw.10"),color:"#357aff"},null,8,["text"])])),_:1}),n(j,{class:"tips"},{default:o((()=>[n(j,null,{default:o((()=>[r(i(c(m).t("page.withdraw.11")),1)])),_:1}),n(j,null,{default:o((()=>[r(i(c(m).t("page.withdraw.12")),1)])),_:1}),n(j,null,{default:o((()=>[r(i(c(m).t("page.withdraw.13")),1)])),_:1}),n(j,null,{default:o((()=>[r(i(c(m).t("page.withdraw.14")),1)])),_:1})])),_:1})])),_:1})):C("",!0)])),_:1})])),_:1},8,["navText"])}}}),[["__scopeId","data-v-55e4eb6c"]]);export{F as default};
