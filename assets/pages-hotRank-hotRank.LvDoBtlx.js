import{q as a,s as e,J as t,o as s,d as l,w as u,f as r,j as d,t as n,C as o,h as c,i,F as _,v as f,k as m,P as v,x as k,_ as h}from"./index-D0SrQWKU.js";import{u as p}from"./user.Z8kPcccZ.js";const y=h(a({__name:"hotRank",setup(a){const h=e([]),y=e([]),g=e({id:"",rank:""}),R=e(""),w=e(""),b=p(),x=e("$");var $;return f.service.currency$current({}).then((a=>{a.success((a=>{x.value=(null==a?void 0:a.symbol)||"$"}))})),f.service.leaderboard$ranking({user_id:(null==($=null==b?void 0:b.user)?void 0:$.id)||1}).then((a=>{a.success((a=>{const e=a.top_users;h.value=[e[1],e[0],e[2]],y.value=e.slice(3),g.value=a.my_rank||null,R.value=a.week_start,w.value=a.week_end}))})),(a,e)=>{const p=m,b=v,$=t("bt-page");return s(),l($,{backIcon:"",navText:o(f).t("page.hotRank.1"),padding:32},{default:u((()=>[r(p,{class:"hot-rank content"},{default:u((()=>[r(p,{class:"week-title"},{default:u((()=>[d(n(o(f).timeFormat(R.value,"yyyy-mm-dd"))+" - "+n(o(f).timeFormat(w.value,"yyyy-mm-dd")),1)])),_:1}),r(p,{class:"top3-cards"},{default:u((()=>[(s(!0),c(_,null,i(h.value,((a,e)=>(s(),l(p,{key:e,class:k(["card",`card-${[2,1,3][e]}`])},{default:u((()=>[r(p,{class:k(["medal",["medal-"+["gold","silver","bronze"][[1,0,2][e]]]])},{default:u((()=>[d(n(["ðŸ¥ˆ","ðŸ‘‘","ðŸ¥‰"][e]),1)])),_:2},1032,["class"]),r(p,{class:"amount"},{default:u((()=>[d(n(x.value)+n(a.reward),1)])),_:2},1024),r(p,{class:"user"},{default:u((()=>[d(n(a.username),1)])),_:2},1024),r(p,{class:"desc"},{default:u((()=>[d(n(o(f).t("page.hotRank.2",{num:a.order_count})),1)])),_:2},1024),r(p,{class:"profit"},{default:u((()=>[d(n(o(f).t("page.hotRank.3"))+n(x.value)+n(a.profit),1)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1}),r(p,{class:"other-title"},{default:u((()=>[d(n(o(f).t("page.hotRank.7")),1)])),_:1}),r(b,{"scroll-y":"",class:"other-list"},{default:u((()=>[(s(!0),c(_,null,i(y.value,((a,e)=>(s(),l(p,{class:"other-item",key:e},{default:u((()=>[r(p,{class:"other-rank"},{default:u((()=>[d(n(e+4),1)])),_:2},1024),r(p,{class:"other-info"},{default:u((()=>[r(p,{class:"other-user"},{default:u((()=>[d(n(a.username),1)])),_:2},1024),r(p,{class:"other-time"},{default:u((()=>[d(n(a.time),1)])),_:2},1024)])),_:2},1024),r(p,{class:"other-amount"},{default:u((()=>[d(n(x.value)+n(a.reward),1)])),_:2},1024),r(p,{class:"other-desc"},{default:u((()=>[d(n(o(f).t("page.hotRank.2",{num:a.order_count})),1)])),_:2},1024),r(p,{class:"other-profit"},{default:u((()=>[d(n(o(f).t("page.hotRank.3"))+n(x.value)+n(a.profit),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),r(p,{class:"my-rank"},{default:u((()=>[r(p,{class:"my-title"},{default:u((()=>[d(n(o(f).t("page.hotRank.4")),1)])),_:1}),r(p,{class:"my-info"},{default:u((()=>[r(p,{class:"my-id"},{default:u((()=>{var a;return[d("id: "+n((null==(a=g.value)?void 0:a.id)||"******"),1)]})),_:1}),r(p,{class:"my-status"},{default:u((()=>{var a;return[d(n((null==(a=g.value)?void 0:a.rank)?o(f).t("page.hotRank.8",{num:g.value.rank}):o(f).t("page.hotRank.4")),1)]})),_:1})])),_:1})])),_:1}),r(p,{class:"update-tip"},{default:u((()=>[d(n(o(f).t("page.hotRank.6",{time:"14:30"})),1)])),_:1})])),_:1})])),_:1},8,["navText"])}}}),[["__scopeId","data-v-5a33fd32"]]);export{y as default};
