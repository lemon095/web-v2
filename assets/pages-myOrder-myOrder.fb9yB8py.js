import{q as e,s as t,r as l,b as a,c as o,J as n,o as s,d as r,w as d,f as u,B as p,t as c,C as i,v as m,n as _,k as f,_ as g,$ as v,a0 as y,j as k,h,i as b,F as D,N as x,z as C,P as j}from"./index-CTwYRwII.js";import{_ as w,a as F}from"./screening.Ce9qtxSD.js";import{g as I,f as $}from"./date.B8FaB0HV.js";/* empty css                                                               */import"./uv-loading-icon.pAx59lDh.js";const A=g(e({__name:"Detail",props:{close:{type:Function},item:{}},setup(e,{expose:g}){const v=e,y=t();return g({modalRef:y}),(e,t)=>{const g=l(o("uv-icon"),a),k=f,h=n("bt-popup");return s(),r(h,{ref_key:"modalRef",ref:y},{default:d((()=>[u(k,{class:"detail"},{default:d((()=>[u(k,{class:"header"},{default:d((()=>[p("p",null,c(i(m).t("page.orderDetail.1")),1),u(g,{onClick:t[0]||(t[0]=e=>v.close()),name:"close"})])),_:1}),u(k,{class:"top"},{default:d((()=>[u(k,null,{default:d((()=>[p("p",null,c(i(m).t("page.task.2")),1),p("p",null,c(v.item.order_no),1)])),_:1}),u(k,null,{default:d((()=>[p("p",null,c(i(m).t("page.task.3")),1),p("p",null,c(i(I)(e.item.expire_time)),1)])),_:1})])),_:1}),u(k,{class:"bottom"},{default:d((()=>[u(k,{class:"item"},{default:d((()=>[u(k,null,{default:d((()=>[p("p",null,c(i(m).t("page.orderDetail.4")),1),p("p",null,c(v.item.like_count),1)])),_:1}),u(k,null,{default:d((()=>[p("p",null,c(i(m).t("page.orderDetail.8")),1),p("p",{style:_("pending"==v.item.like_status?"color:#bf0e1f":"color:#2ed349")},c("pending"==e.item.like_status?i(m).t("component.order.11"):"cancelled"==e.item.status?i(m).t("component.order.13"):i(m).t("component.order.12")),5)])),_:1})])),_:1}),u(k,{class:"item"},{default:d((()=>[u(k,null,{default:d((()=>[p("p",null,c(i(m).t("page.orderDetail.5")),1),p("p",null,c(v.item.follow_count),1)])),_:1}),u(k,null,{default:d((()=>[p("p",null,c(i(m).t("page.orderDetail.8")),1),p("p",{style:_("pending"==v.item.follow_status?"color:#bf0e1f":"color:#2ed349")},c("pending"==e.item.follow_status?i(m).t("component.order.11"):"cancelled"==e.item.status?i(m).t("component.order.13"):i(m).t("component.order.12")),5)])),_:1})])),_:1}),u(k,{class:"item"},{default:d((()=>[u(k,null,{default:d((()=>[p("p",null,c(i(m).t("page.orderDetail.6")),1),p("p",null,c(v.item.share_count),1)])),_:1}),u(k,null,{default:d((()=>[p("p",null,c(i(m).t("page.orderDetail.8")),1),p("p",{style:_("pending"==v.item.share_status?"color:#bf0e1f":"color:#2ed349")},c("pending"==e.item.share_status?i(m).t("component.order.11"):"cancelled"==e.item.status?i(m).t("component.order.13"):i(m).t("component.order.12")),5)])),_:1})])),_:1}),u(k,{class:"item"},{default:d((()=>[u(k,null,{default:d((()=>[p("p",null,c(i(m).t("page.orderDetail.7")),1),p("p",null,c(v.item.favorite_count),1)])),_:1}),u(k,null,{default:d((()=>[p("p",null,c(i(m).t("page.orderDetail.8")),1),p("p",{style:_("pending"==v.item.favorite_status?"color:#bf0e1f":"color:#2ed349")},c("pending"==e.item.favorite_status?i(m).t("component.order.11"):"cancelled"==e.item.status?i(m).t("component.order.13"):i(m).t("component.order.12")),5)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512)}}}),[["__scopeId","data-v-118a0d14"]]),R=g(e({__name:"myOrder",setup(e){const a=v(),p=t({actions:[{id:1,name:m.t("component.order.1")},{id:2,name:m.t("component.order.2")},{id:3,name:m.t("page.order.7")}],title:m.t("page.order.8"),cancelText:m.t("page.order.9"),safeAreaInsetBottom:!0,round:10,onSelect:e=>z(e)}),g=t([]),I=t(),R=t("$");y((e=>{I.value=Number(e.type),e.type?B(I.value):B(3),N()}));const T=()=>{a.value.open()},z=e=>{B(e.id)},B=e=>{m.service.order$my__orders({page:1,page_size:100,status:e}).then((e=>{e.success((e=>{g.value=e.orders}))}))},N=()=>{m.service.currency$current({}).then((e=>{e.success((e=>{R.value=(null==e?void 0:e.symbol)||"$"}))}))};return(e,t)=>{const v=C,y=f,I=j,z=l(o("uv-action-sheet"),F),B=n("bt-page");return s(),r(B,{backIcon:"",navText:i(m).t("page.index.3"),padding:32},{"nav-right":d((()=>[u(y,{class:"nav-right",onClick:T},{default:d((()=>[u(v,{src:w,mode:"aspectFill"})])),_:1})])),default:d((()=>[u(y,{class:"order"},{default:d((()=>[u(y,{class:"form"},{default:d((()=>[u(y,{class:"form-title form-item"},{default:d((()=>[u(y,null,{default:d((()=>[k(c(i(m).t("page.order.2")),1)])),_:1}),u(y,null,{default:d((()=>[k(c(i(m).t("page.order.4")),1)])),_:1}),u(y,null,{default:d((()=>[k(c(i(m).t("page.order.5")),1)])),_:1}),u(y,null,{default:d((()=>[k(c(i(m).t("page.order.6")),1)])),_:1})])),_:1}),u(I,{class:"scrollView","scroll-y":""},{default:d((()=>[(s(!0),h(D,null,b(g.value,((e,t)=>(s(),r(y,{class:"scrollItem form-item",key:t,onClick:t=>(e=>{m.dialogFun(A,{item:e})})(e)},{default:d((()=>[u(y,null,{default:d((()=>[k(c(i($)(e.created_at,"date")),1)])),_:2},1024),u(y,{style:_({color:"pending"==e.status?"#9CA3AF":"#22C55E"})},{default:d((()=>["purchase"==e.order_type?(s(),h(D,{key:0},[k(c("pending"==e.status?i(m).t("component.order.1"):"success"==e.status?i(m).t("component.order.15"):i(m).t("component.order.16")),1)],64)):(s(),h(D,{key:1},[k(c("pending"==e.status?i(m).t("component.order.1"):i(m).t("component.order.2")),1)],64))])),_:2},1032,["style"]),u(y,null,{default:d((()=>[k(c(R.value)+c(e.amount),1)])),_:2},1024),u(y,null,{default:d((()=>[k(c(R.value)+c(e.profit_amount),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),u(z,x({ref_key:"actionSheetRef",ref:a},p.value),null,16)])),_:1},8,["navText"])}}}),[["__scopeId","data-v-519da05d"]]);export{R as default};
